/* Complete Mobile Redesign - Mobile First Approach */

/* Reset mobile styles */
@media (max-width: 768px) {
  /* Global mobile resets */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  body {
    font-size: 14px;
    line-height: 1.4;
  }

  /* Ultra-compact containers */
  .container,
  .page-container {
    padding: 8px !important;
    margin: 0 !important;
    max-width: 100% !important;
  }

  /* Completely redesigned cards */
  .card {
    margin-bottom: 8px !important;
    padding: 0 !important;
    border-radius: 8px !important;
    border: none !important;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05) !important;
    background: #fff !important;
  }

  .card-header {
    padding: 12px !important;
    background: #f8f9fa !important;
    border-bottom: 1px solid #e9ecef !important;
    border-radius: 8px 8px 0 0 !important;
    display: block !important;
  }

  .card-header h1,
  .card-header h2 {
    font-size: 18px !important;
    font-weight: 600 !important;
    margin: 0 0 8px 0 !important;
    line-height: 1.2 !important;
  }

  .card-header > div {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 4px !important;
  }

  /* Complete table transformation */
  .table-responsive {
    overflow: visible !important;
    margin: 0 !important;
  }

  .table-mobile-cards {
    background: transparent !important;
    padding: 8px !important;
  }

  .table-mobile-cards table,
  .table-mobile-cards thead,
  .table-mobile-cards tbody,
  .table-mobile-cards th,
  .table-mobile-cards td,
  .table-mobile-cards tr {
    display: block !important;
    width: 100% !important;
    border: none !important;
  }

  .table-mobile-cards thead {
    display: none !important;
  }

  .table-mobile-cards tbody {
    display: block !important;
  }

  /* Ultra-compact mobile cards */
  .table-mobile-cards tr {
    background: #fff !important;
    border: 1px solid #e9ecef !important;
    border-radius: 6px !important;
    margin-bottom: 6px !important;
    padding: 10px !important;
    box-shadow: 0 1px 2px rgba(0,0,0,0.03) !important;
    display: block !important;
  }

  .table-mobile-cards td {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 4px 0 !important;
    border: none !important;
    font-size: 13px !important;
    min-height: auto !important;
  }

  .table-mobile-cards td:before {
    content: attr(data-label) !important;
    font-weight: 600 !important;
    font-size: 12px !important;
    color: #6c757d !important;
    flex: 0 0 35% !important;
    text-align: left !important;
    padding-right: 8px !important;
    position: static !important;
  }

  .table-mobile-cards td:last-child {
    border-top: 1px solid #e9ecef !important;
    margin-top: 6px !important;
    padding-top: 8px !important;
  }

  /* Filters - Stack vertically */
  .filter-container,
  [style*="margin-bottom: 1rem"] select {
    width: 100% !important;
    display: block !important;
    margin: 0 0 6px 0 !important;
  }

  select.form-control,
  select.form-select {
    width: 100% !important;
    display: block !important;
    margin: 0 0 6px 0 !important;
    height: 36px !important;
    padding: 6px 36px 6px 12px !important;
    font-size: 14px !important;
    background-size: 14px !important;
  }

  /* Compact buttons */
  .btn {
    padding: 6px 12px !important;
    font-size: 13px !important;
    font-weight: 500 !important;
    min-height: 32px !important;
    line-height: 1.3 !important;
    border-radius: 4px !important;
  }

  .btn-sm {
    padding: 4px 8px !important;
    font-size: 12px !important;
    min-height: 28px !important;
  }

  .btn-group {
    display: flex !important;
    gap: 4px !important;
    width: 100% !important;
  }

  .btn-group .btn {
    flex: 1 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  /* Badges */
  .badge {
    font-size: 11px !important;
    padding: 2px 6px !important;
    font-weight: 600 !important;
  }

  /* Headers */
  h1 { font-size: 20px !important; margin-bottom: 8px !important; }
  h2 { font-size: 18px !important; margin-bottom: 6px !important; }
  h3 { font-size: 16px !important; margin-bottom: 4px !important; }

  /* Dashboard specific */
  .dashboard-container {
    padding: 8px !important;
  }

  .dashboard-header {
    margin-bottom: 12px !important;
  }

  .dashboard-section {
    margin-bottom: 16px !important;
  }

  .section-header {
    margin-bottom: 8px !important;
  }

  .today-summary {
    display: flex !important;
    flex-direction: row !important;
    gap: 16px !important;
    font-size: 13px !important;
    margin-top: 4px !important;
  }

  .today-summary span {
    white-space: nowrap !important;
  }

  /* Project Grid - Single column, compact */
  .project-grid {
    grid-template-columns: 1fr !important;
    gap: 6px !important;
    padding: 0 !important;
    max-height: none !important;
    overflow: visible !important;
  }

  .project-card {
    padding: 12px !important;
    border-radius: 6px !important;
    margin-bottom: 0 !important;
  }

  .project-header {
    margin-bottom: 6px !important;
  }

  .project-header h3 {
    font-size: 14px !important;
    font-weight: 600 !important;
    margin: 0 !important;
  }

  .project-client {
    font-size: 11px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    margin-bottom: 2px !important;
  }

  .project-stats {
    font-size: 12px !important;
    margin-bottom: 8px !important;
  }

  .project-timer .btn {
    width: 100% !important;
    padding: 8px !important;
  }

  /* Active timers */
  .active-timer-card {
    padding: 10px !important;
    border-radius: 6px !important;
    margin-bottom: 6px !important;
  }

  .timer-info {
    margin-bottom: 8px !important;
  }

  .timer-info h4 {
    font-size: 14px !important;
    margin-bottom: 4px !important;
  }

  .timer-client {
    font-size: 11px !important;
  }

  .timer-time-display {
    font-size: 18px !important;
    font-weight: 600 !important;
    margin: 4px 0 !important;
  }

  .timer-notes-input-inline {
    font-size: 13px !important;
    padding: 4px 8px !important;
    height: 28px !important;
  }

  .timer-controls {
    gap: 4px !important;
  }

  .timer-controls button {
    width: 36px !important;
    height: 32px !important;
    padding: 0 !important;
    font-size: 14px !important;
  }

  /* Today's entries */
  .today-project {
    margin-bottom: 0 !important;
  }

  .project-summary {
    padding: 10px !important;
    background: #f8f9fa !important;
  }

  .project-summary h4 {
    font-size: 14px !important;
    margin: 0 !important;
  }

  .client-name {
    font-size: 12px !important;
  }

  .project-entries {
    padding: 8px 10px !important;
  }

  .entry-item {
    padding: 4px 0 !important;
    font-size: 13px !important;
    gap: 8px !important;
  }

  .entry-time {
    font-weight: 600 !important;
    min-width: auto !important;
  }

  .entry-desc {
    flex: 1 !important;
    color: #6c757d !important;
  }

  /* Quick actions */
  .quick-actions {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 6px !important;
    margin-bottom: 12px !important;
  }

  .quick-actions button {
    padding: 10px !important;
    font-size: 13px !important;
  }

  /* Empty states */
  .empty-state {
    padding: 24px 16px !important;
    font-size: 14px !important;
    color: #6c757d !important;
  }

  /* Forms */
  .form-group {
    margin-bottom: 12px !important;
  }

  .form-label {
    font-size: 13px !important;
    font-weight: 600 !important;
    margin-bottom: 4px !important;
    color: #495057 !important;
  }

  .form-control {
    height: 36px !important;
    padding: 6px 10px !important;
    font-size: 14px !important;
  }

  textarea.form-control {
    height: auto !important;
    min-height: 60px !important;
  }

  /* Modals */
  .modal {
    padding: 8px !important;
  }

  .modal-content {
    margin: 0 !important;
    border-radius: 8px !important;
    max-height: calc(100vh - 16px) !important;
  }

  .modal-header {
    padding: 12px 16px !important;
    border-bottom: 1px solid #e9ecef !important;
  }

  .modal-title {
    font-size: 16px !important;
    font-weight: 600 !important;
  }

  .modal-close {
    width: 32px !important;
    height: 32px !important;
    font-size: 20px !important;
  }

  /* Progress bars */
  .progress-bar-container {
    margin-top: 4px !important;
  }

  /* Remove all unnecessary margins and padding */
  .mt-1 { margin-top: 4px !important; }
  .mt-2 { margin-top: 8px !important; }
  .mt-3 { margin-top: 12px !important; }
  .mb-1 { margin-bottom: 4px !important; }
  .mb-2 { margin-bottom: 8px !important; }
  .mb-3 { margin-bottom: 12px !important; }
  .p-1 { padding: 4px !important; }
  .p-2 { padding: 8px !important; }
  .p-3 { padding: 12px !important; }

  /* Stat cards */
  .stat-card {
    padding: 12px !important;
    text-align: center !important;
  }

  .stat-value {
    font-size: 24px !important;
    font-weight: 600 !important;
    line-height: 1 !important;
    margin-bottom: 4px !important;
  }

  .stat-label {
    font-size: 12px !important;
    color: #6c757d !important;
  }

  /* Loading states */
  .loading-spinner {
    padding: 32px !important;
    font-size: 14px !important;
  }
}

/* iPhone 12 Pro specific (390x844) */
@media (max-width: 390px) {
  .container,
  .page-container {
    padding: 6px !important;
  }

  .table-mobile-cards tr {
    padding: 8px !important;
    margin-bottom: 4px !important;
  }

  .btn {
    padding: 5px 10px !important;
    font-size: 12px !important;
    min-height: 30px !important;
  }

  h1 { font-size: 18px !important; }
  h2 { font-size: 16px !important; }
  h3 { font-size: 14px !important; }
}

/* Force override any inline styles */
@media (max-width: 768px) {
  [style*="display: inline-block"] {
    display: block !important;
    width: 100% !important;
    margin: 0 0 6px 0 !important;
  }

  [style*="margin-left"] {
    margin-left: 0 !important;
  }

  [style*="width:"] {
    width: 100% !important;
  }
}